\doxysection{Radar\+App/usart\+\_\+custom/usart\+\_\+custom.c File Reference}
\label{usart__custom_8c}\index{RadarApp/usart\_custom/usart\_custom.c@{RadarApp/usart\_custom/usart\_custom.c}}


Source file for custom uart handling, consists of all used variables, enums or functions that are connected directly with uart communication.  


{\ttfamily \#include $<$stdio.\+h$>$}\newline
{\ttfamily \#include "{}usart.\+h"{}}\newline
{\ttfamily \#include $<$stm32g0xx\+\_\+hal\+\_\+dma.\+h$>$}\newline
{\ttfamily \#include "{}usart\+\_\+custom.\+h"{}}\newline
{\ttfamily \#include "{}radar.\+h"{}}\newline
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \textbf{ uart\+Custom\+Init} (\textbf{ UART\+\_\+\+Custom\+\_\+\+Handle\+Type\+Def} $\ast$huart\+Custom, \textbf{ UART\+\_\+\+Handle\+Type\+Def} $\ast$huart, uint16\+\_\+t rx\+Data\+Len, uint16\+\_\+t tx\+Data\+Len)
\item 
\textbf{ HAL\+\_\+\+Status\+Type\+Def} \textbf{ uart\+Custom\+Receive\+DMA} (\textbf{ UART\+\_\+\+Custom\+\_\+\+Handle\+Type\+Def} $\ast$huart\+Custom)
\item 
\textbf{ HAL\+\_\+\+Status\+Type\+Def} \textbf{ uart\+Custom\+Transmit\+DMA} (\textbf{ UART\+\_\+\+Custom\+\_\+\+Handle\+Type\+Def} $\ast$huart\+Custom, uint16\+\_\+t msg\+Len)
\item 
\textbf{ Command\+Type} \textbf{ Command\+Decode} (uint8\+\_\+t $\ast$data, uint16\+\_\+t data\+Len)
\item 
void \textbf{ uart\+Queue\+Receive} (volatile \textbf{ UART\+\_\+\+Queue} $\ast$uart\+Queue)
\item 
void \textbf{ uart\+Queue\+Init} (volatile \textbf{ UART\+\_\+\+Queue} $\ast$uart\+Queue)
\item 
void \textbf{ uart\+Queue\+Add} (volatile \textbf{ UART\+\_\+\+Queue} $\ast$uart\+Queue, uint8\+\_\+t $\ast$data\+Tx\+Source, uint16\+\_\+t msg\+Len)
\item 
void \textbf{ uart\+Queue\+Clear} (volatile \textbf{ UART\+\_\+\+Queue} $\ast$uart\+Queue)
\item 
void \textbf{ uart\+Queue\+Transmit} (volatile \textbf{ UART\+\_\+\+Queue} $\ast$uart\+Queue, \textbf{ UART\+\_\+\+Custom\+\_\+\+Handle\+Type\+Def} $\ast$huart\+Custom)
\item 
void \textbf{ HAL\+\_\+\+UARTEx\+\_\+\+Rx\+Event\+Callback} (\textbf{ UART\+\_\+\+Handle\+Type\+Def} $\ast$huart, uint16\+\_\+t Size)
\item 
void \textbf{ HAL\+\_\+\+UART\+\_\+\+Tx\+Cplt\+Callback} (\textbf{ UART\+\_\+\+Handle\+Type\+Def} $\ast$huart)
\item 
void \textbf{ HAL\+\_\+\+UART\+\_\+\+Error\+Callback} (\textbf{ UART\+\_\+\+Handle\+Type\+Def} $\ast$huart)
\end{DoxyCompactItemize}
\doxysubsubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\textbf{ UART\+\_\+\+Custom\+\_\+\+Handle\+Type\+Def} \textbf{ huart\+PC}
\item 
\textbf{ DMA\+\_\+\+Handle\+Type\+Def} \textbf{ hdma\+\_\+usart1\+\_\+rx}
\item 
\textbf{ DMA\+\_\+\+Handle\+Type\+Def} \textbf{ hdma\+\_\+usart1\+\_\+tx}
\item 
\textbf{ UART\+\_\+\+Queue} \textbf{ uart\+Queue\+PC}
\item 
\textbf{ radar\+Struct} \textbf{ radar}
\item 
\textbf{ draw\+Helper\+Struct} \textbf{ draw\+Helper}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Source file for custom uart handling, consists of all used variables, enums or functions that are connected directly with uart communication. 

\begin{DoxyAuthor}{Author}
Kamil Kosnik, Kacper Radzikowski 
\end{DoxyAuthor}
\begin{DoxySeeAlso}{See also}
{\texttt{ https\+://github.\+com/\+FRSH-\/0109/\+Radar\+\_\+\+Project\+\_\+\+PMIK\+\_\+2023Z}} 
\end{DoxySeeAlso}


\doxysubsection{Function Documentation}
\label{usart__custom_8c_a4dd5805db71c5e3e11920b812bddaa71} 
\index{usart\_custom.c@{usart\_custom.c}!CommandDecode@{CommandDecode}}
\index{CommandDecode@{CommandDecode}!usart\_custom.c@{usart\_custom.c}}
\doxysubsubsection{CommandDecode()}
{\footnotesize\ttfamily \textbf{ Command\+Type} Command\+Decode (\begin{DoxyParamCaption}\item[{uint8\+\_\+t $\ast$}]{data,  }\item[{uint16\+\_\+t}]{data\+Len }\end{DoxyParamCaption})}

Function for checking if any of uart commands is received


\begin{DoxyParams}{Parameters}
{\em data} & pointer to uin8\+\_\+t type array \\
\hline
{\em data\+Len} & length of data to decoded \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Command\+Type which was(or not) decoded 
\end{DoxyReturn}
\label{usart__custom_8c_ae07c419a1a1df7134ddbfedd9bdf7c91} 
\index{usart\_custom.c@{usart\_custom.c}!uartCustomInit@{uartCustomInit}}
\index{uartCustomInit@{uartCustomInit}!usart\_custom.c@{usart\_custom.c}}
\doxysubsubsection{uartCustomInit()}
{\footnotesize\ttfamily void uart\+Custom\+Init (\begin{DoxyParamCaption}\item[{\textbf{ UART\+\_\+\+Custom\+\_\+\+Handle\+Type\+Def} $\ast$}]{huart\+Custom,  }\item[{\textbf{ UART\+\_\+\+Handle\+Type\+Def} $\ast$}]{huart,  }\item[{uint16\+\_\+t}]{rx\+Data\+Len,  }\item[{uint16\+\_\+t}]{tx\+Data\+Len }\end{DoxyParamCaption})}

Function for receiving next waiting data in queue


\begin{DoxyParams}{Parameters}
{\em huart\+Custom} & pointer to \doxyref{UART\+\_\+\+Custom\+\_\+\+Handle\+Type\+Def}{p.}{struct_u_a_r_t___custom___handle_type_def} struct instance param huart pointer to UART\+\_\+\+Handle\+Type\+Def struct instance param rx\+Data\+Len value for maximum rx data length param tx\+Data\+Len value for maximum tx data length \\
\hline
\end{DoxyParams}
\label{usart__custom_8c_a123702bc9950b2a0ce9a34e889842f74} 
\index{usart\_custom.c@{usart\_custom.c}!uartCustomReceiveDMA@{uartCustomReceiveDMA}}
\index{uartCustomReceiveDMA@{uartCustomReceiveDMA}!usart\_custom.c@{usart\_custom.c}}
\doxysubsubsection{uartCustomReceiveDMA()}
{\footnotesize\ttfamily \textbf{ HAL\+\_\+\+Status\+Type\+Def} uart\+Custom\+Receive\+DMA (\begin{DoxyParamCaption}\item[{\textbf{ UART\+\_\+\+Custom\+\_\+\+Handle\+Type\+Def} $\ast$}]{huart\+Custom }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Function for calling receiving process via uart with DMA


\begin{DoxyParams}{Parameters}
{\em huart\+Custom} & pointer to \doxyref{UART\+\_\+\+Custom\+\_\+\+Handle\+Type\+Def}{p.}{struct_u_a_r_t___custom___handle_type_def} struct instance \\
\hline
\end{DoxyParams}
\label{usart__custom_8c_a74ea4ae09ad7d11a8ed037ed585f4c24} 
\index{usart\_custom.c@{usart\_custom.c}!uartCustomTransmitDMA@{uartCustomTransmitDMA}}
\index{uartCustomTransmitDMA@{uartCustomTransmitDMA}!usart\_custom.c@{usart\_custom.c}}
\doxysubsubsection{uartCustomTransmitDMA()}
{\footnotesize\ttfamily \textbf{ HAL\+\_\+\+Status\+Type\+Def} uart\+Custom\+Transmit\+DMA (\begin{DoxyParamCaption}\item[{\textbf{ UART\+\_\+\+Custom\+\_\+\+Handle\+Type\+Def} $\ast$}]{huart\+Custom,  }\item[{uint16\+\_\+t}]{msg\+Len }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Function for calling DMA transmit via uart


\begin{DoxyParams}{Parameters}
{\em huart\+Custom} & pointer to \doxyref{UART\+\_\+\+Custom\+\_\+\+Handle\+Type\+Def}{p.}{struct_u_a_r_t___custom___handle_type_def} struct instance \\
\hline
{\em msg\+Len} & value for maximum tx data length \\
\hline
\end{DoxyParams}
\label{usart__custom_8c_ab0cdd1e74b215a0e58dca5e866c11de8} 
\index{usart\_custom.c@{usart\_custom.c}!uartQueueAdd@{uartQueueAdd}}
\index{uartQueueAdd@{uartQueueAdd}!usart\_custom.c@{usart\_custom.c}}
\doxysubsubsection{uartQueueAdd()}
{\footnotesize\ttfamily void uart\+Queue\+Add (\begin{DoxyParamCaption}\item[{volatile \textbf{ UART\+\_\+\+Queue} $\ast$}]{uart\+Queue,  }\item[{uint8\+\_\+t $\ast$}]{data\+Tx\+Source,  }\item[{uint16\+\_\+t}]{msg\+Len }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Function for adding next data to be send via uart queue


\begin{DoxyParams}{Parameters}
{\em uart\+Queue} & pointer to \doxyref{UART\+\_\+\+Queue}{p.}{struct_u_a_r_t___queue} struct instance \\
\hline
{\em data\+Tx\+Source} & pointer to data array to be added to queue \\
\hline
{\em msg\+Len} & value for added data buffer length \\
\hline
\end{DoxyParams}
\label{usart__custom_8c_a971ac04f29008014c47a53f31a0eca02} 
\index{usart\_custom.c@{usart\_custom.c}!uartQueueClear@{uartQueueClear}}
\index{uartQueueClear@{uartQueueClear}!usart\_custom.c@{usart\_custom.c}}
\doxysubsubsection{uartQueueClear()}
{\footnotesize\ttfamily void uart\+Queue\+Clear (\begin{DoxyParamCaption}\item[{volatile \textbf{ UART\+\_\+\+Queue} $\ast$}]{uart\+Queue }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Function for clearing whole uart structure


\begin{DoxyParams}{Parameters}
{\em uart\+Queue} & pointer to \doxyref{UART\+\_\+\+Queue}{p.}{struct_u_a_r_t___queue} struct instance \\
\hline
\end{DoxyParams}
\label{usart__custom_8c_affe2663ea2814b2c9ab3695c28961355} 
\index{usart\_custom.c@{usart\_custom.c}!uartQueueInit@{uartQueueInit}}
\index{uartQueueInit@{uartQueueInit}!usart\_custom.c@{usart\_custom.c}}
\doxysubsubsection{uartQueueInit()}
{\footnotesize\ttfamily void uart\+Queue\+Init (\begin{DoxyParamCaption}\item[{volatile \textbf{ UART\+\_\+\+Queue} $\ast$}]{uart\+Queue }\end{DoxyParamCaption})}

Function for init uart queue structure


\begin{DoxyParams}{Parameters}
{\em uart\+Queue} & pointer to \doxyref{UART\+\_\+\+Queue}{p.}{struct_u_a_r_t___queue} struct instance \\
\hline
\end{DoxyParams}
\label{usart__custom_8c_abbc250ac23ac518f14aa24e1f9a11ead} 
\index{usart\_custom.c@{usart\_custom.c}!uartQueueReceive@{uartQueueReceive}}
\index{uartQueueReceive@{uartQueueReceive}!usart\_custom.c@{usart\_custom.c}}
\doxysubsubsection{uartQueueReceive()}
{\footnotesize\ttfamily void uart\+Queue\+Receive (\begin{DoxyParamCaption}\item[{volatile \textbf{ UART\+\_\+\+Queue} $\ast$}]{uart\+Queue }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Function for receiving next waiting data in queue


\begin{DoxyParams}{Parameters}
{\em uart\+Queue} & pointer to \doxyref{UART\+\_\+\+Queue}{p.}{struct_u_a_r_t___queue} struct instance \\
\hline
\end{DoxyParams}
\label{usart__custom_8c_a434833c4433f588d5fda684a54dcb0ff} 
\index{usart\_custom.c@{usart\_custom.c}!uartQueueTransmit@{uartQueueTransmit}}
\index{uartQueueTransmit@{uartQueueTransmit}!usart\_custom.c@{usart\_custom.c}}
\doxysubsubsection{uartQueueTransmit()}
{\footnotesize\ttfamily void uart\+Queue\+Transmit (\begin{DoxyParamCaption}\item[{volatile \textbf{ UART\+\_\+\+Queue} $\ast$}]{uart\+Queue,  }\item[{\textbf{ UART\+\_\+\+Custom\+\_\+\+Handle\+Type\+Def} $\ast$}]{huart\+Custom }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Function for transmitting next data in queue


\begin{DoxyParams}{Parameters}
{\em uart\+Queue} & pointer to \doxyref{UART\+\_\+\+Queue}{p.}{struct_u_a_r_t___queue} struct instance \\
\hline
{\em huart\+Custom} & pointer to \doxyref{UART\+\_\+\+Custom\+\_\+\+Handle\+Type\+Def}{p.}{struct_u_a_r_t___custom___handle_type_def} struct instance \\
\hline
\end{DoxyParams}


\doxysubsection{Variable Documentation}
\label{usart__custom_8c_adf53ce83636ba14bf6b66c48aae16e49} 
\index{usart\_custom.c@{usart\_custom.c}!drawHelper@{drawHelper}}
\index{drawHelper@{drawHelper}!usart\_custom.c@{usart\_custom.c}}
\doxysubsubsection{drawHelper}
{\footnotesize\ttfamily \textbf{ draw\+Helper\+Struct} draw\+Helper\hspace{0.3cm}{\ttfamily [extern]}}

Draw helper structure \label{usart__custom_8c_a34251392f0d5e2461e3aef615918c235} 
\index{usart\_custom.c@{usart\_custom.c}!hdma\_usart1\_rx@{hdma\_usart1\_rx}}
\index{hdma\_usart1\_rx@{hdma\_usart1\_rx}!usart\_custom.c@{usart\_custom.c}}
\doxysubsubsection{hdma\_usart1\_rx}
{\footnotesize\ttfamily \textbf{ DMA\+\_\+\+Handle\+Type\+Def} hdma\+\_\+usart1\+\_\+rx\hspace{0.3cm}{\ttfamily [extern]}}

\label{usart__custom_8c_a5af94ab36bfe698db3e6beea96d10a90} 
\index{usart\_custom.c@{usart\_custom.c}!hdma\_usart1\_tx@{hdma\_usart1\_tx}}
\index{hdma\_usart1\_tx@{hdma\_usart1\_tx}!usart\_custom.c@{usart\_custom.c}}
\doxysubsubsection{hdma\_usart1\_tx}
{\footnotesize\ttfamily \textbf{ DMA\+\_\+\+Handle\+Type\+Def} hdma\+\_\+usart1\+\_\+tx\hspace{0.3cm}{\ttfamily [extern]}}

\label{usart__custom_8c_aa8f73ccd6c2e2b10c7ee326ad9b700ce} 
\index{usart\_custom.c@{usart\_custom.c}!huartPC@{huartPC}}
\index{huartPC@{huartPC}!usart\_custom.c@{usart\_custom.c}}
\doxysubsubsection{huartPC}
{\footnotesize\ttfamily \textbf{ UART\+\_\+\+Custom\+\_\+\+Handle\+Type\+Def} huart\+PC\hspace{0.3cm}{\ttfamily [extern]}}

Cusomt uart connected to PC structure \label{usart__custom_8c_a9f3a2a5f24724aadbb21c4a8e74b5a09} 
\index{usart\_custom.c@{usart\_custom.c}!radar@{radar}}
\index{radar@{radar}!usart\_custom.c@{usart\_custom.c}}
\doxysubsubsection{radar}
{\footnotesize\ttfamily \textbf{ radar\+Struct} radar\hspace{0.3cm}{\ttfamily [extern]}}

Radar structure \label{usart__custom_8c_a730b36042999ad73efb22a259d91845a} 
\index{usart\_custom.c@{usart\_custom.c}!uartQueuePC@{uartQueuePC}}
\index{uartQueuePC@{uartQueuePC}!usart\_custom.c@{usart\_custom.c}}
\doxysubsubsection{uartQueuePC}
{\footnotesize\ttfamily \textbf{ UART\+\_\+\+Queue} uart\+Queue\+PC\hspace{0.3cm}{\ttfamily [extern]}}

Uart connected to PC Queue 